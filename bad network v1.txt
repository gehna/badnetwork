Отлично, вы хотите использовать **два Ethernet-интерфейса** на ноутбуке с Ubuntu (или другой Linux-системой):

- **eth0** — подключен к "хорошему интернету" (например, к провайдеру или локальной сети).
- **eth1** — должен выдавать "плохую сеть" вашим тестовым устройствам.

Вот пошаговая инструкция, как это реализовать средствами Linux (без дополнительных ОС и GUI-инструментов):

---

## 1. Подключение интерфейсов

- **eth0** — подключите к "хорошему интернету" (например, к провайдеру или локальной сети).
- **eth1** — подключите к вашим тестовым устройствам.

---

## 2. Включите маршрутизацию

```bash
sudo sysctl -w net.ipv4.ip_forward=1
```
Чтобы сохранить после перезагрузки:
```bash
echo "net.ipv4.ip_forward=1" | sudo tee -a /etc/sysctl.conf
```

---

## 3. Настройте NAT для eth1

Это позволит устройствам, подключённым к eth1, получить интернет через eth0:

```bash
sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
sudo iptables -A FORWARD -i eth1 -o eth0 -m state --state RELATED,ESTABLISHED -j ACCEPT
sudo iptables -A FORWARD -i eth0 -o eth1 -m state --state NEW -j ACCEPT
```

**Сохраните правила iptables** (например, с помощью пакета `iptables-persistent`):

```bash
sudo apt update
sudo apt install iptables-persistent
sudo netfilter-persistent save
```

---

## 4. Примените Traffic Control (tc) к eth1

### Пример: "Плохая сеть" с задержкой 500 мс, джиттером 100 мс, потерями 5%, дублированием 0.1%, коррупцией 0.1%, пропускной способностью 1 Мбит/с

```bash
sudo tc qdisc del dev eth1 root 2>/dev/null

# Корневой qdisc (HTB для ограничения скорости)
sudo tc qdisc add dev eth1 root handle 1: htb default 10

# Класс с ограничением скорости (1 Мбит/с)
sudo tc class add dev eth1 parent 1: classid 1:10 htb rate 1mbit ceil 1mbit

# Вводим плохую сеть (netem)
sudo tc qdisc add dev eth1 parent 1:10 handle 10: netem \
  delay 500ms 100ms distribution normal loss 5% duplicate 0.1% corrupt 0.1%
```

---

## 5. Проверка

- Подключите тестовое устройство к **eth1**.
- Проверьте "плохой интернет" с помощью `ping`, `curl`, `traceroute`, `iperf` и т.д.

---

## 6. Очистка (если нужно вернуть eth1 в исходное состояние)

```bash
sudo tc qdisc del dev eth1 root 2>/dev/null
sudo iptables -t nat -F POSTROUTING
sudo iptables -F FORWARD
```

---

## 7. Пример полного скрипта

Сохраните как `badnet.sh` и запускайте с правами root:

```bash
#!/bin/bash

# Включить маршрутизацию
sudo sysctl -w net.ipv4.ip_forward=1

# Очистить старые правила iptables
sudo iptables -t nat -F POSTROUTING
sudo iptables -F FORWARD

# NAT и форвардинг
sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
sudo iptables -A FORWARD -i eth1 -o eth0 -m state --state RELATED,ESTABLISHED -j ACCEPT
sudo iptables -A FORWARD -i eth0 -o eth1 -m state --state NEW -j ACCEPT

# Очистить старые tc правила
sudo tc qdisc del dev eth1 root 2>/dev/null

# Корневой qdisc (HTB)
sudo tc qdisc add dev eth1 root handle 1: htb default 10

# Класс с ограничением скорости (1 Мбит/с)
sudo tc class add dev eth1 parent 1: classid 1:10 htb rate 1mbit ceil 1mbit

# Вводим плохую сеть (netem)
sudo tc qdisc add dev eth1 parent 1:10 handle 10: netem \
  delay 500ms 100ms distribution normal loss 5% duplicate 0.1% corrupt 0.1%
```

---

## 8. Настройка параметров "плохой сети"

Меняйте параметры в команде `netem` по своему сценарию:

- `delay <задержка>ms <джиттер>ms distribution <тип>` — например, `delay 300ms 50ms distribution normal`
- `loss <процент>%` — например, `loss 3%`
- `duplicate <процент>%` — например, `duplicate 0.1%`
- `corrupt <процент>%` — например, `corrupt 0.1%`
- `rate <скорость>` — например, `rate 512kbit`

---

## 9. Сохранение iptables и tc

- **iptables** — через `iptables-persistent` (см. выше).
- **tc** — если нужно, можно сохранить скрипт и запускать его при старте системы (например, через systemd unit).

---

## 10. Итог

- **eth0** — "хороший интернет" (внешний/внутренний).
- **eth1** — "плохой интернет" для ваших тестов.
- Все параметры настраиваются одной командой tc.

---

**Если нужно изменить параметры "плохой сети" — просто отредактируйте значения в команде `netem`.  
Если возникнут вопросы — напишите, помогу с конкретными сценариями!**